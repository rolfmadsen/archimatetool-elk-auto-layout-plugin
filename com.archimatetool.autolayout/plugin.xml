<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         point="org.eclipse.ui.commands">
      <command
            categoryId="com.archimatetool.editor.category"
            description="Smart Auto-Layout using ArchiMate Grid Engine"
            id="com.archimatetool.autolayout.LayoutCommand"
            name="Smart Auto-Layout">
      </command>
   </extension>
   
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="com.archimatetool.autolayout.LayoutHandler"
            commandId="com.archimatetool.autolayout.LayoutCommand">
      </handler>
   </extension>
   
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="popup:org.eclipse.ui.popup.any?after=additions">
          <command
               commandId="com.archimatetool.autolayout.LayoutCommand"
               icon="platform:/plugin/com.archimatetool.editor/img/app-16.png"
               label="Smart Auto-Layout..."
               style="push">
               <visibleWhen>
                 <with
                       variable="activePartId">
                    <equals
                          value="com.archimatetool.editor.diagramEditor">
                    </equals>
                 </with>
              </visibleWhen>
          </command>
      </menuContribution>
   </extension>

</plugin>
